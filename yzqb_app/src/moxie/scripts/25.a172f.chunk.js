webpackJsonp([25,43],{15:function(e,t,n){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=function(e,t,n){for(var a=!0;a;){var r=e,i=t,o=n;a=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=i,n=o,a=!0,s=u=void 0}},u=n(2),d=a(u),c=n(16),f=n(10),p=(a(f),n(1)),h=function(e){function t(e,n){i(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.state={}}return o(t,e),s(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.showTips,n=e.showOrHideSpinner,a=e.size,i=e.color,o=e.boxSize,s=(r(e,["showTips","showOrHideSpinner","size","color","boxSize"]),{display:n,width:"100%",maxWidth:p.qsParams.maxWidth?p.qsParams.maxWidth:"800px",height:p.qsParams.height?p.qsParams.height+"px":"100%",position:"fixed",right:0,bottom:0,margin:"0 auto",left:0,top:0,zIndex:996,background:"rgba(0,0,0,.4)"});return d.default.createElement("div",{style:s},d.default.createElement("div",{className:"SpinerBox",style:{overflow:"hidden",background:"rgba(22,22,22,0.8)",position:"absolute",top:"40%",left:"50%",width:""+o,height:""+o,borderRadius:"10px"}},d.default.createElement("div",{className:"newSpiner",style:{top:t?o/6+"px":(o-a)/2+"px"}},d.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:a,height:a,fill:i},d.default.createElement("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),d.default.createElement("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"}))),d.default.createElement("div",{style:{color:"#fff",textAlign:"center",width:"100%",fontSize:"13px",position:"absolute",top:""+2*o/3}},t)))}}]),t}(d.default.Component);t.default=h,h.contextTypes={history:function(){return c.PropTypes.history}},h.defaultProps={boxSize:120,size:48,showTips:"正在加载",color:"#fff"},e.exports=t.default}).call(this)}finally{}},50:function(e,t,n){try{(function(){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t="";return"login"==e.tasktype?t=l.default.zhengxinNewLogin:"creatLoginTask"==e.tasktype?t=l.default.zhengXinNewLoginTask:"loginImgcode"==e.tasktype?t=l.default.zhengxinNewLogImgCode:"creatRegistTask"==e.tasktype?t=l.default.zhengXinNewRegistTask:"registImgcode"==e.tasktype?t=l.default.zhengxinNewRegImgCode:"registStep1"==e.tasktype?t=l.default.zhengxinNewRegStep1:"registStep2"==e.tasktype?t=l.default.zhengxinNewRegStep2:"registStep2ActCode"==e.tasktype?t=l.default.zhengxinNewRegActCode:"zhengxinReportApply"==e.tasktype?t=l.default.zhengxinReportApply:"submitAnswerResult"==e.tasktype?t=l.default.zhengxinReportAnswer:"zhengxinReportSms"==e.tasktype?t=l.default.zhengxinReportSms:"zhengxinfindLoginName"==e.tasktype?t=l.default.zhengxinfindLoginName:"zhengXinfindLogNameTask"==e.tasktype?t=l.default.zhengXinfindLogNameTask:"zhengxinFindLogNameImgCode"==e.tasktype?t=l.default.zhengxinFindLogNameImgCode:"zhengxinResetPwdTask"==e.tasktype?t=l.default.zhengxinResetPwdTask:"zhengxinresetPwdImgCode"==e.tasktype?t=l.default.zhengxinresetPwdImgCode:"zhengxinresetPwdidentyVerify"==e.tasktype?t=l.default.zhengxinresetPwdidentyVerify:"zhengxinresetPwdactCode"==e.tasktype?t=l.default.zhengxinresetPwdactCode:"zhengxinresetPwdupdatepwd"==e.tasktype?t=l.default.zhengxinresetPwdupdatepwd:"zhengxinresetPwdanswerquestion"==e.tasktype&&(t=l.default.zhengxinresetPwdanswerquestion),o.request.post(t).set(i({},d.default.addDefaultHeaders())).set("Content-Type","application/json").set("Accept","application/json").set("Cache-Control","no-store").send(e.requestParams)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=r;var o=n(1),s=n(25),l=a(s),u=n(12),d=a(u);e.exports=t.default}).call(this)}finally{}},839:function(e,t,n){try{(function(){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function(e,t,n){for(var a=!0;a;){var r=e,i=t,o=n;a=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=i,n=o,a=!0,s=u=void 0}},s=n(2),l=t(s),u=n(16),d=n(10),c=t(d),f=n(1),p=n(50),h=t(p),m=n(15),y=t(m),g=n(9),v=t(g),w=n(12),x=t(w),b=n(73),k=t(b),z=n(6),P=t(z),E=n(7),T=t(E),S=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,20}$/,N=function(e){function t(e,n){a(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.renderQuesList=this.renderQuesList.bind(this),this.state={showspinner:"none",tips:"",vcodeImg:"",showTip:"none",taskId:"",verifyCode:"",vcodeLimited:!1,questionList:null,time:"",themeColor:f.qsParams.themeColor?"#"+f.qsParams.themeColor:"#c11000"}}return r(t,e),i(t,[{key:"componentDidMount",value:function(){PG.refreshTitle("重置密码")}},{key:"componentWillUnmount",value:function(){this.setState({vcodeLimited:!1}),clearInterval(this.timer2),clearInterval(this.timer)}},{key:"render",value:function(){var e=this;return l.default.createElement("div",{className:"zx-findLoginName zx-new mx-view"},"NO"==f.qsParams.showTitleBar||0==f.qsParams.showTitleBar||PG.Device.SDK?null:l.default.createElement("div",{style:{height:"NO"==f.qsParams.showTitleBar||PG.Device.SDK?0:44}},l.default.createElement(P.default,{title:"征信报告查询",left:l.default.createElement(T.default,{onTap:function(){v.default.call(e)}},l.default.createElement("i",{className:"ion-chevron-left"}))})),l.default.createElement(y.default,{showOrHideSpinner:this.state.showspinner}),l.default.createElement("div",{className:"zx_register_title"},"人行征信个人信用信息服务平台"),l.default.createElement("div",{className:"zx-findName-content",style:{paddingBottom:"20px"}},null==this.state.questionList?this.renderSetPwd.bind(this)():this.renderQuesList()))}},{key:"renderSetPwd",value:function(){var e=this;return l.default.createElement("div",null,l.default.createElement("div",{className:"reset-content-top",style:{padding:"0 15px 10px",borderBottom:"1px solid #cc1000",borderColor:this.state.themeColor}},l.default.createElement("div",null,"重置密码"),l.default.createElement("div",null,l.default.createElement("span",null,"填写登录名")," > ",l.default.createElement("span",{style:{color:this.state.themeColor}},"新密码")," > ",l.default.createElement("span",null,"验证提交"))),l.default.createElement("div",{className:"new_zx_inputBox"},l.default.createElement(k.default,{ref:"zx_pwd",type:"password",onBlur:function(){e.setState({thips:"",showTip:"none"})},onFocus:this.showTips.bind(this),placeholder:"请输入新密码"}),l.default.createElement(k.default,{onFocus:function(){e.setState({tips:"",showTips:"none"})},ref:"zx_confirmpwd",type:"password",placeholder:"请再次确认密码"}),l.default.createElement("div",{style:{color:"#666",padding:"13px 15px",justifyContent:"flex-start",height:"auto",lineHeight:"1.5"},className:"report-mobile"},l.default.createElement("span",null,"您的手机号"),l.default.createElement("span",null,storage.getItem("zhengxinResetPhone"))),l.default.createElement("div",{style:{position:"relative",borderTop:"1px solid #f1f1f1"},className:"zx_verify_code"},l.default.createElement(k.default,{ref:"zx_actCode",type:"text",onFocus:function(){e.setState({tips:"",showTips:"none"})},placeholder:"请输入动态码"}),l.default.createElement(c.default,{onTap:this.getActiveCode.bind(this)},l.default.createElement("div",{style:{position:"absoulte",right:"48px"},className:"zx_refresh_code"},l.default.createElement("span",{ref:"actHtml",style:{width:"80px"},className:"zx_refresh"},"获取动态码"))))),l.default.createElement("div",{style:{display:this.state.showTip,padding:" 10px 15px 0"},className:"zx_tip"},this.state.tips),l.default.createElement("div",{style:{marginTop:"20px"},className:"zx_btn"},l.default.createElement(c.default,{onTap:this.submitNewPwd.bind(this)},l.default.createElement("button",{style:{background:this.state.themeColor}},"下一步")),l.default.createElement(c.default,{onTap:function(){v.default.call(e)}},l.default.createElement("button",null,"返回"))))}},{key:"getActiveCode",value:function(){var e=this,t={tasktype:"zhengxinresetPwdactCode",requestParams:{taskId:storage.getItem("zhengxinResetTaskid"),userId:x.default.userId}};if(!this.state.vcodeLimited){this.setState({vcodeLimited:!0});var n=120;this.refs.actHtml.innerHTML=n+"s重发",this.timer=setInterval(function(){return 1==n?(e.refs.actHtml.innerHTML="获取动态码",clearInterval(e.timer),void e.setState({vcodeLimited:!1})):(n--,void(e.refs.actHtml.innerHTML=n+"s重发"))},1e3),(0,h.default)(t).then(function(t){15==t.body.code?(clearInterval(e.timer),PG.alert(t.body.message),e.context.history.go(-2)):e.setState({tips:t.body.message,showTip:"block"})}).catch(function(t){clearInterval(e.timer);var n=t.body?t.body.detail:"网络异常，请稍后再试"+t;PG.alert(n)})}}},{key:"submitNewPwd",value:function(){var e=this;if(!S.test(this.refs.zx_pwd.getValue().Trim()))return void this.setState({tips:"密码格式错误!",showTip:"block"});if(this.refs.zx_pwd.getValue().Trim()!=this.refs.zx_confirmpwd.getValue().Trim())return void this.setState({tips:"两次密码不一致!",showTip:"block"});if(""==this.refs.zx_actCode.getValue().Trim())return void this.setState({tips:"请输入动态码!",showTip:"block"});this.setState({tips:"",showTip:"none",showspinner:"block"});var t={tasktype:"zhengxinresetPwdupdatepwd",requestParams:{taskId:storage.getItem("zhengxinResetTaskid"),userId:x.default.userId,password:this.refs.zx_pwd.getValue().Trim(),verifyCode:this.refs.zx_actCode.getValue().Trim()}};(0,h.default)(t).then(function(t){e.setState({showspinner:"none",vcodeLimited:!1}),12==t.body.code?!function(){clearInterval(e.timer),e.setState({questionList:t.body.questions});var n=600,a=void 0,r=void 0;e.setState({time:"10:00"}),e.timer2=setInterval(function(){return 0==a&&0==r?(clearInterval(e.timer2),timer=null,PG.alert("重置密码验证时间已过，请重新申请！"),e.context.history.go(-2),!1):(n--,a=Math.floor(n/60),r=n-60*Math.floor(n/60),r<10&&(r="0"+r),void e.setState({time:"0"+a+":"+r}))},1e3)}():15==t.body.code?(clearInterval(e.timer),PG.alert(t.body.message),e.context.history.go(-2)):e.setState({tips:t.body.message,showTip:"block"})}).catch(function(t){e.setState({showspinner:"none"}),console.log(t),clearInterval(e.timer);var n=t.body?t.body.detail:"网络异常，请稍后再试"+t;PG.alert(n)})}},{key:"renderQuesList",value:function(){var e=this.state.questionList;return null!=e&&l.default.createElement("div",{ref:"questionList",style:{padding:"0 15px"},className:"reportQues-list"},l.default.createElement("div",{className:"reset-content-top",style:{padding:"15px 0 10px"}},l.default.createElement("div",{style:{borderBottom:"1px solid #cc1000",paddingBottom:" 15px",borderColor:this.state.themeColor}},l.default.createElement("div",null,"重置密码"),l.default.createElement("div",null,l.default.createElement("span",null,"填写登录名")," > ",l.default.createElement("span",null,"新密码")," > ",l.default.createElement("span",{style:{color:this.state.themeColor}},"验证提交")))),l.default.createElement("div",{ref:"timeBox",className:"timeBox"},"距离身份验证结束时间：",this.state.time),e.map(function(e,t){var n=[];for(var a in e.options)n.push(e.options[a]);return l.default.createElement("div",{className:"list-in",key:t},l.default.createElement("p",null,"问题"+(t+1)+"："+e.question),l.default.createElement("ul",null,n.map(function(e,n){return l.default.createElement("li",null,l.default.createElement("input",{id:"q"+t+"a"+n,ref:"checkBox",name:"ques"+t,type:"radio"}),l.default.createElement("label",{htmlFor:"q"+t+"a"+n},e))})))}),l.default.createElement("div",{className:"reportBtn"},l.default.createElement(c.default,{onTap:this.backToSetPwd.bind(this)},l.default.createElement("button",{style:{background:this.state.themeColor}},"上一步")),l.default.createElement(c.default,{onTap:this.submitAnswerResult.bind(this)},l.default.createElement("button",{style:{background:this.state.themeColor}},"提交"))))}},{key:"showTips",value:function(){this.setState({tips:"密码长度必须在6-20之间，可以使用数字、小写字母和大写字母，但必须同时包含数字和字母。",showTip:"block"})}},{key:"submitAnswerResult",value:function(){for(var e=this,t=this.refs.questionList,n=t.querySelectorAll(".list-in"),a=this.state.questionList,r=[],i=0;i<n.length;i++)for(var o=n[i].querySelectorAll("input"),s=0;s<o.length;s++)o[s].checked&&(a[i].answerresult=s+1,r.push(s));if(r.length<5)return void PG.alert("请完成您的问题！");this.setState({showspinner:"block"});var l={tasktype:"zhengxinresetPwdanswerquestion",requestParams:{taskId:storage.getItem("zhengxinResetTaskid"),userId:x.default.userId,answerList:a}};(0,h.default)(l).then(function(t){e.setState({showspinner:"none"}),PG.alert(t.body.message),0!=t.body.code&&15!=t.body.code&&16!=t.body.code||(clearInterval(e.timer2),e.context.history.go(-2))}).catch(function(t){e.setState({showspinner:"none"}),clearInterval(e.timer2),console.log(t);var n=t.body?t.body.detail:"网络异常，请稍后再试"+t;PG.alert(n)})}},{key:"backToSetPwd",value:function(){this.setState({questionList:null,vcodeLimited:!1}),clearInterval(this.timer2)}}]),t}(l.default.Component);N.contextTypes={history:u.PropTypes.history},e.exports=N}).call(this)}finally{}}});