webpackJsonp([23,43],{15:function(e,t,a){try{(function(){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=function(e,t,a){for(var n=!0;n;){var r=e,s=t,o=a;n=!1,null===r&&(r=Function.prototype);var i=Object.getOwnPropertyDescriptor(r,s);if(void 0!==i){if("value"in i)return i.value;var l=i.get;if(void 0===l)return;return l.call(o)}var d=Object.getPrototypeOf(r);if(null===d)return;e=d,t=s,a=o,n=!0,i=d=void 0}},d=a(2),u=n(d),f=a(16),c=a(10),p=(n(c),a(1)),h=function(e){function t(e,a){s(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,a),this.state={}}return o(t,e),i(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.showTips,a=e.showOrHideSpinner,n=e.size,s=e.color,o=e.boxSize,i=(r(e,["showTips","showOrHideSpinner","size","color","boxSize"]),{display:a,width:"100%",maxWidth:p.qsParams.maxWidth?p.qsParams.maxWidth:"800px",height:p.qsParams.height?p.qsParams.height+"px":"100%",position:"fixed",right:0,bottom:0,margin:"0 auto",left:0,top:0,zIndex:996,background:"rgba(0,0,0,.4)"});return u.default.createElement("div",{style:i},u.default.createElement("div",{className:"SpinerBox",style:{overflow:"hidden",background:"rgba(22,22,22,0.8)",position:"absolute",top:"40%",left:"50%",width:""+o,height:""+o,borderRadius:"10px"}},u.default.createElement("div",{className:"newSpiner",style:{top:t?o/6+"px":(o-n)/2+"px"}},u.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:n,height:n,fill:s},u.default.createElement("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),u.default.createElement("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"}))),u.default.createElement("div",{style:{color:"#fff",textAlign:"center",width:"100%",fontSize:"13px",position:"absolute",top:""+2*o/3}},t)))}}]),t}(u.default.Component);t.default=h,h.contextTypes={history:function(){return f.PropTypes.history}},h.defaultProps={boxSize:120,size:48,showTips:"正在加载",color:"#fff"},e.exports=t.default}).call(this)}finally{}},50:function(e,t,a){try{(function(){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t="";return"login"==e.tasktype?t=l.default.zhengxinNewLogin:"creatLoginTask"==e.tasktype?t=l.default.zhengXinNewLoginTask:"loginImgcode"==e.tasktype?t=l.default.zhengxinNewLogImgCode:"creatRegistTask"==e.tasktype?t=l.default.zhengXinNewRegistTask:"registImgcode"==e.tasktype?t=l.default.zhengxinNewRegImgCode:"registStep1"==e.tasktype?t=l.default.zhengxinNewRegStep1:"registStep2"==e.tasktype?t=l.default.zhengxinNewRegStep2:"registStep2ActCode"==e.tasktype?t=l.default.zhengxinNewRegActCode:"zhengxinReportApply"==e.tasktype?t=l.default.zhengxinReportApply:"submitAnswerResult"==e.tasktype?t=l.default.zhengxinReportAnswer:"zhengxinReportSms"==e.tasktype?t=l.default.zhengxinReportSms:"zhengxinfindLoginName"==e.tasktype?t=l.default.zhengxinfindLoginName:"zhengXinfindLogNameTask"==e.tasktype?t=l.default.zhengXinfindLogNameTask:"zhengxinFindLogNameImgCode"==e.tasktype?t=l.default.zhengxinFindLogNameImgCode:"zhengxinResetPwdTask"==e.tasktype?t=l.default.zhengxinResetPwdTask:"zhengxinresetPwdImgCode"==e.tasktype?t=l.default.zhengxinresetPwdImgCode:"zhengxinresetPwdidentyVerify"==e.tasktype?t=l.default.zhengxinresetPwdidentyVerify:"zhengxinresetPwdactCode"==e.tasktype?t=l.default.zhengxinresetPwdactCode:"zhengxinresetPwdupdatepwd"==e.tasktype?t=l.default.zhengxinresetPwdupdatepwd:"zhengxinresetPwdanswerquestion"==e.tasktype&&(t=l.default.zhengxinresetPwdanswerquestion),o.request.post(t).set(s({},u.default.addDefaultHeaders())).set("Content-Type","application/json").set("Accept","application/json").set("Cache-Control","no-store").send(e.requestParams)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=r;var o=a(1),i=a(25),l=n(i),d=a(12),u=n(d);e.exports=t.default}).call(this)}finally{}},835:function(e,t,a){try{(function(){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=function(e,t,a){for(var n=!0;n;){var r=e,s=t,o=a;n=!1,null===r&&(r=Function.prototype);var i=Object.getOwnPropertyDescriptor(r,s);if(void 0!==i){if("value"in i)return i.value;var l=i.get;if(void 0===l)return;return l.call(o)}var d=Object.getPrototypeOf(r);if(null===d)return;e=d,t=s,a=o,n=!0,i=d=void 0}},l=a(2),d=n(l),u=a(16),f=a(1),c=a(50),p=n(c),h=a(10),m=n(h),g=a(73),y=n(g),v=a(15),b=n(v),x=a(11),w=(n(x),a(9)),k=n(w),P=a(6),z=n(P),T=a(7),_=n(T),I=a(40),C=(a(39),a(12)),E=n(C),N=null,S=function(e){function t(e,n){r(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.state={bgImg:"url("+a(20)+")",Type:"password",vcodeImg:"",taskId:"",tips:"",showTip:"none",showspinner:"none",themeColor:f.qsParams.themeColor?"#"+f.qsParams.themeColor:"#c11000",frontConf:E.default.frontConf[E.default.taskType]}}return s(t,e),o(t,null,[{key:"contextTypes",value:{history:u.PropTypes.history},enumerable:!0}]),o(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){PG.refreshTitle("征信登录"),this.initial()}},{key:"initial",value:function(){var e=this,t={tasktype:"creatLoginTask",requestParams:{userId:E.default.userId}};N=(0,p.default)(t).then(function(t){if(0==t.body.code){if(e.setState({vcodeImg:t.body.base64Img,taskId:t.body.taskId}),e.refs.imgCode){var a=t.body.verifyCode?t.body.verifyCode.length>6?t.body.verifyCode.substring(0,6):t.body.verifyCode:"";e.refs.imgCode.setValue(a)}storage.setItem("zhengxinTaskid",e.state.taskId)}}).catch(function(e){if(e&&e.message&&e.message.indexOf("terminated")>=0)return!1;var t=e.body?e.body.detail:"网络异常，请稍后再试"+e;PG.alert(t)}),storage.getItem("userInfo")&&(this.refs.zx_userName.value=storage.getItem("userInfo")&&JSON.parse(storage.getItem("userInfo")).userName||"");var a=(0,I.getParams)("loginParams");a&&a.username&&(this.refs.zx_userName.value=a.username),a&&a.password&&(this.refs.zx_pwd.value=a.password)}},{key:"render",value:function(){var e=this,t=(this.context.history.pushState,f.qsParams.agreementEntryText||this.state.frontConf.agreementEntryText||"同意《用户使用协议》");return d.default.createElement("div",{className:"zx-new mx-view"},"NO"==f.qsParams.showTitleBar||0==f.qsParams.showTitleBar||PG.Device.SDK?null:d.default.createElement("div",{style:{height:"NO"==f.qsParams.showTitleBar||PG.Device.SDK?0:44}},d.default.createElement(z.default,{title:"征信报告查询",left:d.default.createElement(_.default,{onTap:function(){k.default.call(e)}},d.default.createElement("i",{className:"ion-chevron-left"}))})),d.default.createElement(b.default,{showOrHideSpinner:this.state.showspinner}),d.default.createElement("div",{style:{background:"#fff",fontSize:"14px"}},d.default.createElement("div",{style:{backgroundImage:"url("+a(969)+")",backgroundSize:"100% 187px",backgroundRepeat:"no-repeat",backgroundPosition:"center"},className:"new_zx_top_banner"}),d.default.createElement("div",{className:"new_zx_inputBox"},d.default.createElement("div",{className:"new_zx_login_inp"},d.default.createElement("input",{ref:"zx_userName",type:"text",onFocus:this.checkInpVal.bind(this),placeholder:"请输入登录名"}),d.default.createElement(m.default,{onTap:function(){e.state.taskId?e.context.history.pushState({},"/zhengxinv2/findLoginName",f.qsParams):null}},d.default.createElement("div",{className:"zx_findLogName"},"找回登录名")),d.default.createElement(m.default,{onTap:function(){e.refs.zx_userName.value=""}},d.default.createElement("span",{className:"zx_clear_value"}))),d.default.createElement("div",{className:"new_zx_pwd_inp"},d.default.createElement("input",{ref:"zx_pwd",onFocus:this.checkInpVal.bind(this),type:this.state.Type,placeholder:"请输入登录密码"}),d.default.createElement(m.default,{onTap:function(){e.state.taskId?e.context.history.pushState({},"/zhengxinv2/resetPwd",f.qsParams):null}},d.default.createElement("div",{className:"zx_findLogPwd"},"找回密码")),d.default.createElement(m.default,{onTap:this.showOrhidePwd.bind(this)},d.default.createElement("span",{ref:"eyeImg",className:"zx_showPwd",style:{backgroundImage:this.state.bgImg}}))),d.default.createElement(y.default,{ref:"imgCode",onFocus:this.checkInpVal.bind(this),onRefresh:this.refreshCode.bind(this),hasRefreshImgCode:!0,type:"text",placeholder:"请输入验证码",vcodeImg:this.state.vcodeImg}),d.default.createElement("div",{style:{display:"NO"==f.qsParams.showAgreement||0==f.qsParams.showAgreement?"none":"block",textAlign:"left"},className:"zx_protocal"},d.default.createElement("input",{style:{verticalAlign:"middle",marginBottom:"3px"},defaultChecked:!0,value:"protocal",ref:"zx_protocal",onFocus:this.checkInpVal.bind(this),type:"checkbox"}),d.default.createElement(m.default,{onTap:this.handleProtocol.bind(this)},d.default.createElement("a",{href:"javascript:;"},t)),f.qsParams.tenantAgreementUrl||this.state.frontConf.tenantAgreementUrl?d.default.createElement("div",null,d.default.createElement("input",{style:{verticalAlign:"middle",marginBottom:"3px"},defaultChecked:!0,value:"protocal",ref:"zx_tanent_protocal",onFocus:this.checkInpVal.bind(this),type:"checkbox"}),d.default.createElement(m.default,{onTap:this.handleTanentProtocol.bind(this)},d.default.createElement("a",{href:"javascript:;"},f.qsParams.tenantAgreementEntryText||"同意《用户使用协议》"))):null),d.default.createElement("div",{style:{display:this.state.showTip,paddingTop:"10px"},className:"zx_tip"},this.state.tips),d.default.createElement("div",{style:{marginTop:"15px"},className:"zx_btn"},d.default.createElement(m.default,{onTap:this.login.bind(this)},d.default.createElement("button",{style:{backgroundColor:this.state.themeColor}},"登录")),d.default.createElement(m.default,{onTap:function(){e.context.history.pushState({},"/zhengxinv2/zxRegister",f.qsParams)}},d.default.createElement("button",null,"新用户注册")))),d.default.createElement("div",{className:"zx_regPro"},d.default.createElement("div",{style:{borderColor:this.state.themeColor},className:"zx_regPro_title"},"注册流程"),d.default.createElement("div",{className:"zx_regPro_details"},d.default.createElement("span",null,"填写身份信息 > "),d.default.createElement("span",null,"补充用户资料 > "),d.default.createElement("span",null,"完成注册")))))}},{key:"showOrhidePwd",value:function(){"text"==this.state.Type?this.setState({bgImg:"url("+a(20)+")",Type:"password"}):this.setState({bgImg:"url("+a(36)+")",Type:"text"})}},{key:"refreshCode",value:function(){var e=this,t={tasktype:"loginImgcode",requestParams:{taskId:this.state.taskId,userId:E.default.userId}};(0,p.default)(t).then(function(t){if(0==t.body.code&&(e.setState({vcodeImg:t.body.base64Img}),e.refs.imgCode)){var a=t.body.verifyCode?t.body.verifyCode.length>6?t.body.verifyCode.substring(0,6):t.body.verifyCode:"";e.refs.imgCode.setValue(a)}1==t.body.code&&e.setState({tips:t.body.message,showTip:"block"}),15==t.body.code&&PG.alert(t.body.message)}).catch(function(e){var t=e.body?e.body.detail:"网络异常，请稍后再试"+e;PG.alert(t)})}},{key:"login",value:function(){var e=this;if(""==this.refs.zx_userName.value.Trim())return this.setState({tips:"请输入用户名！",showTip:"block"}),!1;if(""==this.refs.zx_pwd.value.Trim())return this.setState({tips:"请输入登录密码！",showTip:"block"}),!1;if(""==this.refs.imgCode.getValue().Trim())return this.setState({tips:"请输入图片验证码！",showTip:"block"}),!1;if(!this.refs.zx_protocal.checked)return this.setState({tips:"请勾选用户使用协议！",showTip:"block"}),!1;if(this.refs.zx_tanent_protocal&&!this.refs.zx_tanent_protocal.checked)return this.setState({tips:"请勾选用户使用协议！",showTip:"block"}),!1;var t={tasktype:"login",requestParams:{taskId:this.state.taskId,userId:E.default.userId,password:this.refs.zx_pwd.value.Trim(),userName:this.refs.zx_userName.value.Trim(),verifyCode:this.refs.imgCode.getValue().Trim()}};this.setState({showspinner:"block"}),(0,p.default)(t).then(function(a){var n={};if(n.userName=t.requestParams.userName,mxSessionStorage.setItem("p",t.requestParams.password),storage.setItem("userInfo",JSON.stringify(n)),e.setState({showspinner:"none"}),0==a.body.code||3==a.body.code)PG.mxSaveAccountInfo(t.userName),3==a.body.code?(e.setState({tips:"",showTip:"none"}),PG.alert(a.body.message),e.context.history.pushState({},"/zhengxinv2/checkReport",f.qsParams)):e.context.history.pushState({},"/zhengxinv2/afterLoginPage",f.qsParams);else if(1==a.body.code||2==a.body.code){if(e.refs.imgCode){var r=a.body.verifyCode?a.body.verifyCode.length>6?a.body.verifyCode.substring(0,6):a.body.verifyCode:"";e.refs.imgCode.setValue(r)}e.setState({tips:a.body.message,showTip:"block",vcodeImg:a.body.base64Img})}}).catch(function(t){e.setState({showspinner:"none"});var a=t.body?t.body.detail:"网络异常，请稍后再试"+t;PG.alert(a)})}},{key:"handleProtocol",value:function(){var e=(PG.Device.SDK?0:f.qsParams.showTitleBar,f.qsParams.themeColor,f.qsParams.agreementUrl||this.state.frontConf.agreementUrl);PG.openWebView("用户使用协议",e,"","agreement")}},{key:"handleTanentProtocol",value:function(){var e=f.qsParams.tenantAgreementUrl||this.state.frontConf.tenantAgreementUrl;PG.openWebView("用户使用协议",e,"","agreement")}},{key:"checkInpVal",value:function(){this.setState({tips:"",showTip:"none"})}}]),t}(d.default.Component);t.default=S,e.exports=t.default}).call(this)}finally{}},969:function(e,t,a){e.exports=a.p+"assets/ee8ca73e.top_banner.gif"}});